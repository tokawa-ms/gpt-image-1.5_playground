# ユーザーガイド

日本語 | [English](user-guide-en.md)

## 起動前の準備

1. .env.template を .env.local にコピー
2. 必須の環境変数を設定
3. npm install / npm run dev

## 画像編集の流れ

1. /login にアクセスし、環境変数のユーザー名・パスワードでログイン
2. /items で参照画像（PNG/JPG）をアップロード
3. マスク画像（PNG）を必要に応じて追加
4. プロンプトを入力（テンプレートの読み込みも可）
5. 画像編集オプションを設定
6. 「画像編集を実行」を押して結果を確認

## テンプレートの使い方

- prompt-templates 配下に .txt ファイルを配置
- ファイル名（拡張子除外）がテンプレート名として表示
- テンプレートを選択して「読み込み」で入力欄に反映

## 主要オプションの意味

- サイズ: 1024x1024 / 1024x1536 / 1536x1024
- 品質: low / medium / high
- 入力忠実度: low / medium / high
- 出力形式: png / jpeg
- 出力圧縮: 0〜100（JPEG で有効）
- 背景: 例: transparent
- ユーザー ID: 監査用の任意文字列

## 生成結果

- 結果は新しいものから上に表示
- 画像をクリックすると拡大表示

## よくあるエラー

- 参照画像が未選択: フォーム上にエラー表示
- 認証エラー: /login に遷移または 401
- 環境変数不足: 起動時に例外

## 制限事項

- 生成結果の永続化は未実装
- ストリーミング応答の UI 表示は未実装
